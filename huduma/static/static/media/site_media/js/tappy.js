!function(t,n){t.tapHandling=!1,t.tappy=!0;var e=function(e){return e.each(function(){function e(t){n(t.target).trigger("tap",[t,n(t.target).attr("href")])}function i(t){var n=t.originalEvent||t,e=n.touches||n.targetTouches;return e?[e[0].pageX,e[0].pageY]:null}function a(t){if(t.touches&&t.touches.length>1||t.targetTouches&&t.targetTouches.length>1)return!1;var n=i(t);c=n[0],o=n[1]}function r(t){if(!h){var n=i(t);n&&(Math.abs(o-n[1])>s||Math.abs(c-n[0])>s)&&(h=!0)}}function u(n){if(clearTimeout(p),p=setTimeout(function(){t.tapHandling=!1,h=!1},1e3),!(n.which&&n.which>1||n.shiftKey||n.altKey||n.metaKey||n.ctrlKey)){if(n.preventDefault(),h||t.tapHandling&&t.tapHandling!==n.type)return void(h=!1);t.tapHandling=n.type,e(n)}}var p,o,c,h,f=n(this),s=10;f.bind("touchstart.tappy MSPointerDown.tappy",a).bind("touchmove.tappy MSPointerMove.tappy",r).bind("touchend.tappy MSPointerUp.tappy",u).bind("click.tappy",u)})},i=function(t){return t.unbind(".tappy")};if(n.event&&n.event.special)n.event.special.tap={add:function(){e(n(this))},remove:function(){i(n(this))}};else{var a=n.fn.bind,r=n.fn.unbind;n.fn.bind=function(t){return/(^| )tap( |$)/.test(t)&&e(this),a.apply(this,arguments)},n.fn.unbind=function(t){return/(^| )tap( |$)/.test(t)&&i(this),r.apply(this,arguments)}}}(this,jQuery);
